(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"./src/limitUpload/LimitUpload.mdx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return L}));n("./node_modules/antd/es/button/style/css.js");var o,a=n("./node_modules/antd/es/button/index.js"),s=(n("./node_modules/antd/es/upload/style/css.js"),n("./node_modules/antd/es/upload/index.js")),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),d=n("react"),l=n.n(d),p=n("./node_modules/@mdx-js/react/dist/esm.js"),r=n("./node_modules/father/node_modules/docz/dist/index.esm.js"),c=(n("./node_modules/antd/dist/antd.css"),n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js")),u=(n("./node_modules/antd/es/message/style/css.js"),n("./node_modules/antd/es/message/index.js")),b=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),m=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),f=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js"),y=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),_=n("./node_modules/@ant-design/icons/es/icons/LoadingOutlined.js"),h=n("./node_modules/@ant-design/icons/es/icons/PlusOutlined.js"),j=n("./node_modules/@ant-design/icons/es/icons/UploadOutlined.js");!function(e){e.IMAGE=".jpg, .png, .gif, .svg, .bmp, .webp",e.OFFICE=".doc, .docx, .xls, .xlsx, .ppt, .pptx, .vsd, .mpp, .mppx, .mppx",e.ZIP=".zip, .rar, .7zip"}(o||(o={}));var O,U=o;"undefined"!==typeof o&&o&&o===Object(o)&&Object.isExtensible(o)&&Object.defineProperty(o,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UploadAcceptType",filename:"src/enums/UploadAcceptType.ts"}}),function(e){e[e.FILE=0]="FILE",e[e.IMAGE=1]="IMAGE"}(O||(O={}));var v=O;"undefined"!==typeof O&&O&&O===Object(O)&&Object.isExtensible(O)&&Object.defineProperty(O,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"UploadType",filename:"src/enums/UploadType.ts"}});var x=function(e){Object(y.a)(n,e);var t=Object(f.a)(n);function n(e){var o;Object(b.a)(this,n),(o=t.call(this,e)).onChange=function(e){var t=o.props.validateFile;o.setState({fileList:e.fileList});var n=!1,a=e.file;switch(a.status){case"done":t(a)?o.validateFileList():o.onError(a);break;case"uploading":n=!0;break;case"error":o.validateFileList(),o.onError(a);break;case"removed":o.validateFileList()}o.setState({loading:n})};var a=e.defaultFileList;return o.state={loading:!1,fileList:a||[]},o}return Object(m.a)(n,[{key:"getAccept",value:function(){var e=this.props,t=e.accept,n=e.type;if(void 0===t)switch(n){case v.IMAGE:return U.IMAGE;default:return""}return t}},{key:"renderChooseer",value:function(){var e=this.state,t=e.loading,n=e.fileList,o=this.props,s=o.maxNumber,i=o.renderChooser,d=o.type,p=o.disabled,r=o.defaultFileList,c=n.length+(r?r.length:0);if(!(!s||c<s))return null;if(i)return i(t);switch(d){case v.IMAGE:return l.a.createElement("div",null,t?l.a.createElement(_.a,null):l.a.createElement(h.a,null),l.a.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20"));default:return l.a.createElement(a.a,{loading:t,disabled:p,icon:l.a.createElement(j.a,null)},"\u4e0a\u4f20")}}},{key:"onError",value:function(e){var t=this.props.onError;t?t(e):u.a.error("".concat(e.name,"\u4e0a\u4f20\u5931\u8d25"))}},{key:"validateFileList",value:function(){var e=this.props,t=e.validateFile,n=e.onChange,o=this.state.fileList.filter((function(e){return t(e)}));n&&n(o),this.setState({fileList:o})}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.disabled,o=e.action,a=e.uploadProps,i=e.disableCredentials,d=this.state.fileList,p=Object(c.a)({fileList:d,disabled:n,accept:this.getAccept(),action:o,withCredentials:!i,onChange:this.onChange,listType:t===v.IMAGE?"picture-card":"text"},a);switch(t){case v.IMAGE:return l.a.createElement(s.a,Object.assign({},p,{listType:"picture-card"}),this.renderChooseer());default:return l.a.createElement(s.a,p,this.renderChooseer())}}}]),n}(d.Component),g=x;"undefined"!==typeof x&&x&&x===Object(x)&&Object.isExtensible(x)&&Object.defineProperty(x,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"LimitUpload",filename:"src/limitUpload/LimitUpload.tsx"}});var w={};function L(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(p.b)("wrapper",Object.assign({},w,n,{components:t,mdxType:"MDXLayout"}),Object(p.b)("h1",{id:"limitupload"},"LimitUpload"),Object(p.b)("p",null,"\u53ef\u8bbe\u7f6e\u6700\u5927\u4e0a\u4f20\u6587\u4ef6\u6570\u91cf\u7684\u7ec4\u4ef6\uff0c\u901a\u5e38\uff0c\u5728 ",Object(p.b)("strong",{parentName:"p"},"\u4e0a\u4f20\u5934\u50cf")," \u65f6\uff0c\u8fd9\u4e2a\u7ec4\u4ef6\u5f88\u6709\u7528\u3002"),Object(p.b)("h3",{id:"\u4e3b\u8981\u505a\u4e86\u4ee5\u4e0b\u5de5\u4f5c"},"\u4e3b\u8981\u505a\u4e86\u4ee5\u4e0b\u5de5\u4f5c"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u53ef\u81ea\u5b9a\u4e49\u6700\u5927\u5141\u8bb8\u4e0a\u4f20\u7684\u6587\u4ef6\u6570\u91cf"),Object(p.b)("li",{parentName:"ul"},"\u4e0a\u4f20\u9519\u8bef\u7684\u5904\u7406"),Object(p.b)("li",{parentName:"ul"},"\u6839\u636etype\u81ea\u52a8\u8bbe\u7f6eaccept"),Object(p.b)("li",{parentName:"ul"},"\u6839\u636etype\u81ea\u52a8\u8bbe\u7f6e\u663e\u793a\u5143\u7d20")),Object(p.b)("h3",{id:"\u4f60\u53ef\u4ee5"},"\u4f60\u53ef\u4ee5"),Object(p.b)("ul",null,Object(p.b)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u663e\u793a\u5143\u7d20"),Object(p.b)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u6700\u5927\u5141\u8bb8\u4e0a\u4f20\u7684\u6570\u91cf"),Object(p.b)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u9519\u8bef\u5904\u7406\u65b9\u5f0f"),Object(p.b)("li",{parentName:"ul"},"\u8bbe\u7f6etype"),Object(p.b)("li",{parentName:"ul"},"\u8bbe\u7f6eaccept"),Object(p.b)("li",{parentName:"ul"},"\u8bbe\u7f6e\u5df2\u5b58\u5728\u7684\u6587\u4ef6"),Object(p.b)("li",{parentName:"ul"},"\u7ed9antd\u7684Upload\u900f\u4f20props")),Object(p.b)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),Object(p.b)("h3",{id:"\u9ed8\u8ba4\uff0c\u8bf7\u89c2\u5bdf\u5f00\u53d1\u8005\u5de5\u5177\u7684\u8f93\u51fa\uff0c\u5f53\u6587\u4ef6\u4e0a\u4f20\u6210\u529f\u3001\u79fb\u9664\u65f6\uff0c\u4f1a\u89e6\u53d1onchange"},'\u9ed8\u8ba4\uff0c\u8bf7\u89c2\u5bdf\u5f00\u53d1\u8005\u5de5\u5177\u7684\u8f93\u51fa\uff0c\u5f53\u6587\u4ef6"\u4e0a\u4f20\u6210\u529f\u3001\u79fb\u9664"\u65f6\uff0c\u4f1a\u89e6\u53d1onChange'),Object(p.b)(r.c,{__position:0,__code:"<LimitUpload\n  action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n  onChange={fileList => {\n    console.log('fileList', fileList)\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",validateFile:function(e){return!(!e.response||"done"!==e.response.status)},onChange:function(e){console.log("fileList",e)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u4e0a\u4f20\u5f02\u5e38\u65f6"},"\u4e0a\u4f20\u5f02\u5e38\u65f6"),Object(p.b)(r.c,{__position:1,__code:"<LimitUpload\n  action=\"./\"\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{action:"./",validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u81ea\u5b9a\u4e49\u4e0a\u4f20\u5f02\u5e38\u7684\u63d0\u793a\u65b9\u6cd5"},"\u81ea\u5b9a\u4e49\u4e0a\u4f20\u5f02\u5e38\u7684\u63d0\u793a\u65b9\u6cd5"),Object(p.b)(r.c,{__position:2,__code:"<LimitUpload\n  action=\"./\"\n  onError={file => {\n    alert(`${file.name}\u4e0a\u4f20\u5931\u8d25`)\n  }}\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{action:"./",onError:function(e){alert("".concat(e.name,"\u4e0a\u4f20\u5931\u8d25"))},validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u7981\u7528"},"\u7981\u7528"),Object(p.b)(r.c,{__position:3,__code:'<LimitUpload\n  disabled\n  action="./"\n  validateFile={file => {\n    if (file.response && file.response.success) {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>\n<hr />\n<LimitUpload disabled type={UploadType.IMAGE} action="./" />',__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{disabled:!0,action:"./",validateFile:function(e){return!(!e.response||!e.response.success)},mdxType:"LimitUpload"}),Object(p.b)("hr",null),Object(p.b)(g,{disabled:!0,type:v.IMAGE,action:"./",mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u9650\u5236\u4e0a\u4f20\u6570\u91cf\u4e3a2\u4e2a\uff0c\u4e0a\u4f202\u4e2a\u6587\u4ef6\u540e\uff0c\u4e0a\u4f20\u6309\u94ae\u4f1a\u6d88\u5931"},"\u9650\u5236\u4e0a\u4f20\u6570\u91cf\u4e3a2\u4e2a\uff0c\u4e0a\u4f202\u4e2a\u6587\u4ef6\u540e\uff0c\u4e0a\u4f20\u6309\u94ae\u4f1a\u6d88\u5931"),Object(p.b)(r.c,{__position:4,__code:"<LimitUpload\n  maxNumber={2}\n  action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{maxNumber:2,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u56fe\u7247\u4e0a\u4f20"},"\u56fe\u7247\u4e0a\u4f20"),Object(p.b)(r.c,{__position:5,__code:"<LimitUpload\n  type={UploadType.IMAGE}\n  action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{type:v.IMAGE,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"office\u6587\u6863\u4e0a\u4f20\uff0c\u53ea\u80fd\u9009\u62e9office\u6587\u6863"},"office\u6587\u6863\u4e0a\u4f20\uff0c\u53ea\u80fd\u9009\u62e9office\u6587\u6863"),Object(p.b)(r.c,{__position:6,__code:"<LimitUpload\n  accept={UploadAcceptType.OFFICE}\n  action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{accept:U.OFFICE,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u8bbe\u7f6e\u5df2\u4e0a\u4f20\u6587\u4ef6"},"\u8bbe\u7f6e\u5df2\u4e0a\u4f20\u6587\u4ef6"),Object(p.b)(r.c,{__position:7,__code:"<LimitUpload\n  defaultFileList={[\n    {\n      uid: '1',\n      name: 'xxx.png',\n      status: 'done',\n      response: {\n        status: 'done',\n      }, // custom error message to show\n      url: 'http://www.baidu.com/xxx.png',\n    },\n    {\n      uid: '2',\n      name: 'yyy.png',\n      response: {\n        status: 'done',\n      },\n      url: 'http://www.baidu.com/yyy.png',\n    },\n  ]}\n  action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{defaultFileList:[{uid:"1",name:"xxx.png",status:"done",response:{status:"done"},url:"http://www.baidu.com/xxx.png"},{uid:"2",name:"yyy.png",response:{status:"done"},url:"http://www.baidu.com/yyy.png"}],action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u81ea\u5b9a\u4e49\u6e32\u67d3\u65b9\u6cd5"},"\u81ea\u5b9a\u4e49\u6e32\u67d3\u65b9\u6cd5"),Object(p.b)(r.c,{__position:8,__code:"<LimitUpload\n  action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n  renderChooser={loading => {\n    return (\n      <span style={{ borderLeft: '3px solid red', paddingLeft: 10 }}>\n        {loading ? '\u4e0a\u4f20\u4e2d...' : '\u70b9\u6211\u4e0a\u4f20'}\n      </span>\n    )\n  }}\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",renderChooser:function(e){return Object(p.b)("span",{style:{borderLeft:"3px solid red",paddingLeft:10}},e?"\u4e0a\u4f20\u4e2d...":"\u70b9\u6211\u4e0a\u4f20")},validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h3",{id:"\u81ea\u5b9a\u4e49\u4f20\u9012\u7ed9upload\u7684\u5c5e\u6027"},"\u81ea\u5b9a\u4e49\u4f20\u9012\u7ed9upload\u7684\u5c5e\u6027"),Object(p.b)("p",null,"\u89c2\u5bdf\u5f00\u53d1\u8005\u5de5\u5177\uff0c\u8bf7\u6c42\u662fPUT"),Object(p.b)(r.c,{__position:9,__code:"<LimitUpload\n  uploadProps={{\n    method: 'put',\n  }}\n  action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n  validateFile={file => {\n    if (file.response && file.response.status === 'done') {\n      return true\n    } else {\n      return false\n    }\n  }}\n/>",__scope:{props:this?this.props:n,Playground:r.c,Props:r.d,LimitUpload:g,UploadType:v,UploadAcceptType:U,Upload:s.a,Button:a.a,UploadOutlined:j.a},__codesandbox:"undefined",mdxType:"Playground"},Object(p.b)(g,{uploadProps:{method:"put"},action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",validateFile:function(e){return!(!e.response||"done"!==e.response.status)},mdxType:"LimitUpload"})),Object(p.b)("h2",{id:"\u5c5e\u6027"},"\u5c5e\u6027"),Object(p.b)(r.d,{of:g,mdxType:"Props"}))}L&&L===Object(L)&&Object.isExtensible(L)&&Object.defineProperty(L,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src/limitUpload/LimitUpload.mdx"}}),L.isMDXComponent=!0}}]);